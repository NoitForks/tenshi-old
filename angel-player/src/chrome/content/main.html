<!doctype html>

<html>
    <head>
        <script src="vendor-js/jquery.js"></script>
        <script type='application/javascript;version=1.7'
            src='resource://gre/modules/commonjs/toolkit/loader.js'></script>
        <script src="common/create_commonjs.js"></script>
        <script>
            // Set up globals object. This globals object lives inside the main
            // page document. The main page does not normally reload, and
            // subpages can add and reference items in here. However, the
            // "super-reload" function will wipe this scope. "Super-reload"
            // will not wipe anything in a JSM context.
            document.tenshiGlobals = {};

            // Set up main loader object. ("loader" comes from loader.js)
            document.tenshiGlobals.loader = createCommonJsEnv(loader);
        </script>
        <!-- We can now load require_stub.js to load the rest of our JS in
             the CommonJS environment -->
        <script src="common/require_stub.js"></script>
        <script>
            requireStub('tenshi/main');
        </script>
        <link rel="stylesheet" type="text/css" href="main.css">
    </head>
    <body>
        <iframe id="mainContent">
          <!-- main-ui/ui.html will be loaded here -->
        </iframe>
        <!-- Footer only contains debug things -->
        <div id="footer">
            <div id="toggle-debug"></div>
            <div id="footer-debug-container">
                <button id="backButton">Back</button>
                <button id="forwardButton">Forward</button>
                <button id="reloadButton">Reload</button>
                <button id="superReloadButton">Super-reload</button>
                <span id="version-data">VERSIONINFO</span>
            </div>
        </div>
    </body>
</html>
